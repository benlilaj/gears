#summary Building Google Gears on Windows

= Introduction =

This document describes how to build Google Gears for Firefox on Windows.  Most of the same process will also work for building for Internet Explorer, but you'll need a commercial version of Visual Studio for ATL. 

= Building =

I installed the following to create the build environment:
*Visual Studio Express - http://msdn.microsoft.com/vstudio/express/downloads/
*Microsoft Platform SDK for Windows Server 2003 R2 - http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/
*Wix 3.0.2925 - http://wix.sourceforge.net/downloadv3.html
*Cygwin - www.cygwin.com
**Make sure to install these packages:
***All -> Archive -> zip
***All -> Devel -> make
***All -> Devel -> subversion
***All -> Interpreters -> m4
***All -> Python -> Python
**Add your bin directory from Cygwin to your path

Follow the instructions at http://code.google.com/p/google-gears/source to set up your source tree

Finally open a command prompt, and set up your build environment:
*Start -> Run -> cmd.exe
  > cd \svn-gears\google-gears\gears\
  > "c:\Program Files\Microsoft Visual Studio 8\VC\vcvarsall.bat"
  > "c:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\SetEnv.cmd"
  > make BROWSER=FF
*This assumes that you put Gears in c:\svn-gears and installed VS Express and the Platform SDKs to their default locations.

This should give you a proper build for FireFox.  IE will fail unless you have a commercial version of Visual Studio installed, as it requires ATL.

= Installing =

To install Gears, go to bin-dbg\win32\installers\ from your Gears directory and open the .xpi you find there in Firefox.

= Testing =
After installing, you should restart your browser.  Go to the Google Gears API [http://code.google.com/apis/gears/ page].  At the lower left corner, it should indicate the build of Google Gears that is active.  You should be able to try out the demos or create your own.