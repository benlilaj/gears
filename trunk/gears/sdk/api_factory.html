<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">

<!--
Copyright 2007, Google Inc.

Redistribution and use in source and binary forms, with or without 
modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 3. Neither the name of Google Inc. nor the names of its contributors may be
    used to endorse or promote products derived from this software without
    specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR 
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF 
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->

<html><head><title>Google Gears API Developer's Guide - Factory API</title>


<!-- Begin Templates -->
<link rel="stylesheet" type="text/css" href="http://code.google.com/css/dev_docs.css" /> 
<link rel="stylesheet" type="text/css" href="./local_extensions.css" /> 
<!--[if IE 7]><link rel="stylesheet" type="text/css" href="http://code.google.com/css/ie7only.css" /><![endif]-->
<!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="http://code.google.com/css/ie6only.css" /><![endif]-->
<!--[if IE]><link rel="stylesheet" type="text/css" href="http://code.google.com/css/ieonly.css" />  <![endif]-->
<!-- End Templates -->
</head><body id="api_factory_page">
<a name="top"></a>
<!-- ########## PAGE HEADER ########## -->
<div id="header">

<div id="logo">
<a href="http://code.google.com/"><img src="resources/code_sm.png"  alt="Google Code" width="150" height="55" border="0" /></a></div>

<h1 id="doc_title">Google Gears API Developer's Guide (Beta)</h1>

<ul class="trail">
<li>Google Code Home</li> &gt;
<!-- <li><a href="http://code.google.com/">Google Code Home</a></li> &gt; -->
<li><a href="api_summary.html">Gears API Reference</a></li> 
&gt;
<li>Factory API </li>
</ul>
</div>
<!-- ########## END PAGE HEADER ########## -->

<div id="wrapper">
<!-- ########## SIDE NAVIGATION ########## -->

<div id="sidenav">
  <script src="nav.js"></script>
</div>
<!-- ########## END SIDE NAVIGATION ########## -->




<!-- ########## PAGE CONTENT ########## -->
<div id="pagecontent">

<h1 id="page_title">Factory API</h1>
<p>The Factory class is used to instantiate all other Google Gears objects. Using the <span class="code">create</span> method, an application specifies the interface version it uses.</p>
<p>Use <a href='tools.html#gears_init'>gears_init.js</a> in your application for the easiest way to create a Factory object.
  The script defines <code>google.gears.factory</code> to refer to a Factory object.</p>
<h3>Contents</h3>
<ol class="toc"><li><a href="#factoryclass">Factory Class</a></li>
                <li><a href="#versioning">API Versioning for Gears Interfaces</a> </li>
    </ol>
<p><br />
  <a name="factoryclass" id="factoryclass"></a></p>
<br>

<h2 id="Factory">Factory class</h2>

<pre><code>Object <b>create</b>(className, version)
string <b>getBuildInfo</b>()</code></pre>

<p>Code Example:</p>
<pre><code>// gears_init.js defines google.gears.factory.
&lt;script type="text/javascript" src="<a href='tools.html#gears_init'>gears_init.js</a>"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

// Check whether Google Gears is installed.
if (window.google && google.gears) {
  // Instantiate Gears objects
  var db = google.gears.factory.create('beta.database', '1.0');
  db.open();
}
&lt;/script&gt;</code></pre>

<h3><a name="methods" id="methods"></a>Methods </h3>
<table>
  <tr class="odd">
    <th width="100%" colspan="2"><div align="left" class="code"><strong>Object create(className, version) </strong></div></th>
  </tr>
  <tr class="odd">
    <td width="113">Return Value </td>
    <td width="489"><span class="code">Object: </span>if successful</td>
  </tr>
  <tr class="odd">
    <td>Parameters</td>
    <td class="odd"><span class="code"><strong>className</strong></span>
      
      <p>Supported class names are:
     
      <p><table width="79%" border="0" cellpadding="0" cellspacing="0">
        <tr>
          <th width="177" >className</th>
          <th width="216" >Google Gears class created </th>
        </tr>
        <tr>
          <td class="code">beta.database</td>
          <td><a href="api_database.html">Database</a></td>
        </tr>
        <tr>
          <td class="code">beta.httprequest</td>
          <td><a href="api_httprequest.html">HttpRequest</a></td>
        </tr>        
        <tr>
          <td class="code">beta.localserver</td>
          <td><a href="api_localserver.html">LocalServer</a></td>
        </tr>
        <tr>
          <td class="code">beta.timer</td>
          <td><a href="api_timer.html">Timer</a></td>
        </tr>
        <tr>
          <td class="code">beta.workerpool</td>
          <td><a href="api_workerpool.html">WorkerPool</a></td>
        </tr>
      </table>

      <p><span class="code"><strong>version</strong></span> - version of the class's API that the app will use.  See below for <a href="#versioning">API versioning</a> information.

      </td>
  </tr>
  <tr class="odd">
    <td>Exceptions</td>
    <td class="" >An exception with message "Unknown object" is thrown if <span class="code">className</span> is not recognized, or if the requested version for a class name is unavailable.</td>
  </tr>
  <tr class="odd">
    <td height="30">Description</td>
    <td class="odd">Creates an object of the given <span class="code">className</span> with the given version, or the latest version if <span class="code">version</span> is omitted. </td>
  </tr>
</table>
<table>
  <tr class="odd">
    <th colspan="2" width="100%"><span class="code"><strong>string getBuildInfo()</strong></span></th>
  </tr>
  <tr class="odd">
    <td width="113">Return value: </td>
    <td width="489" class="code">string</td>
  </tr>
  <tr class="odd">
    <td>Description:</td>
    <td class="odd"><p>Returns a string describing the build of Gears that is installed. </p>
      <p><br />
      This string is purely informational.  Application developers should not rely on the format of data returned.  The contents and layout may change over time. </p></td>
  </tr>
</table>
<br>

<a name="versioning" id="versioning"></a>
<h2>API Versioning  for Google Gears Interfaces</h2>
<p>Each Google Gears interface has a major and minor version number.</p>
  <p>A request for an interface can be thought of as a contract between Gears and the application.
    If Gears returns an object, it promises that the object will support the  interface of the requested version.
    The application promises it will only use functionality that was present in the requested interface.</p>

  <p>A version is specified as a dotted string of the form '<em>MAJOR.MINOR</em>', representing the major and minor versions of the object.</p>
  <ul>
    <li>Minor version number changes represent API changes that are backward-compatible with all previous versions having the same <em>major</em> version number. </li>
    <li>Major version number changes represent API changes that break backward compatibility.</li>
  </ul>

</div>
<!-- ########## END PAGE CONTENT ########## -->
</div><!-- end wrapper -->
<!-- ########## PAGE FOOTER ########## -->
<div id="footer">

<div id="footerlogo">
<img src="resources/art.gif" alt="Google color balls" />
</div>

<div>
    <p id="copyright">&copy;2007 Google -
	<a href="http://gears.google.com/tos.html">Terms of Service</a>
	</p>
  </div>

</div><!--end footer -->
<!-- ########## END PAGE FOOTER ########## -->



<!-- ########## ANALYTICS ########## -->
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script>
<script type="text/javascript">
  _uacct = "UA-18071-1";
  _uanchor=1;
  urchinTracker();
</script>
<!-- ########## END ANALYTICS ########## -->
</body></html>
